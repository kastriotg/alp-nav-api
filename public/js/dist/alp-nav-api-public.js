document.addEventListener("DOMContentLoaded",function(){"use strict";function n(e){var t=e.getAttribute("data-mobile-url"),d=e.getAttribute("data-wide-url"),l=window.innerWidth,r=l>768&&d?d:t;e.style.backgroundImage=r?"url('"+r+"')":"none"}function o(){var e=document.querySelectorAll(".alpnav-banner-widget[data-mobile-url][data-wide-url]");e.forEach(n)}o(),window.addEventListener("resize",o),document.getElementById("departure-field").addEventListener("click",()=>{document.getElementById("airportModal").style.display="block"}),document.querySelector(".modal .close").addEventListener("click",()=>{document.getElementById("airportModal").style.display="none"}),document.querySelectorAll("#airportModal li").forEach(e=>{e.addEventListener("click",function(){let t=this.textContent;document.getElementById("departure-field").innerHTML=t,document.getElementById("airportModal").style.display="none"})}),window.addEventListener("click",function(e){e.target.id==="airportModal"&&(document.getElementById("airportModal").style.display="none")})});function loadLocationsOnModalOpen(){var n=document.getElementById("airportModal");if(n){var o=!1;n.addEventListener("show",function(){o||(o=!0,fetch(ajaxurl+"?action=alpnav_get_locations").then(e=>e.json()).then(e=>{var t=n.querySelector("#locations-list");t&&Array.isArray(e.locations)&&(t.innerHTML=e.locations.map(d=>`<li>${d.title}</li>`).join(""))}))})}}document.addEventListener("DOMContentLoaded",loadLocationsOnModalOpen);
